<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
		<link rel="shortcut icon" type="image/png" th:href="@{/img/pharmacy.png}"/>
		<title>Benutzer</title>
	</head>
    <body>
        <nav th:include="navigation :: navigation"></nav>
    	<table class="ui celled table">
        	<thead>
				<tr>
					<th>ID</th>
					<th>Benutzername</th>
					<th>Krankenkasse</th>
					<th>Adresse</th>
					<th>Zahlungsmittel</th>
					<th>Bestellungen</th>
					<th>Finanzen</th>
					<th>Löschen</th>
				</tr>
        	</thead>
			<tbody>
				<tr class="ui card" th:each="user : ${users}">
					<td th:text="${user.getId()}">ID</td>
					<td th:text="${user.userAccount.getUsername()}">Benutzername</td>
					<td>
						<div th:if="${user.getInsurance()}">
							<a class="information" th:text="${user.getInsurance()}">Krankenkasse</a>
							<div class="field">
								<label class="label">Versichertennummer</label>
								<a class="information" ></a>
							</div>
						</div>
					</td>
					<td>
						<div th:if="${user.getAddress()}">
							<div class="field">
								<label class="label"  for="address">Name</label>
								<a class="information" th:text="${user.getAddress().getName()}"></a>
							</div>
				
							<div class="field">
								<label class="label"  for="address">Straße und Hausnummer</label>
								<a class="information" th:text="${user.getAddress().getStreet()}"></a>
							</div>
				
							<div class="field">
								<label class="label"  for="name">Postleitzahl</label>
								<a class="information" th:text="${user.getAddress().getPostCode()}"></a>
							</div>
					
							<div class="field">
								<label class="label"  for="password">Stadt</label>
								<a class="information" th:text="${user.getAddress().getCity()}"></a>
							</div>
						</div>
					</td>
					<td>
						<a>Zahlungsmittel</a>
					</td>
					<td>
						<a>Bestellungen</a>
					</td>
					<td>
						<a>Finanzen</a>
					</td>
					<td>
						<a th:if="${user.userAccount.hasRole(boss)}">Geschäftsführer kann nicht gelöscht werden.</a>
						<a th:if="${user.userAccount.hasRole(employee)}" class="button" th:href="@{/user/{id}/dismiss(id=${user.getId()})}">Mitarbeiter Entlassen</a>
						<a th:if="${user.userAccount.hasRole(customer)}" class="button" th:href="@{/user/{id}/remove(id=${user.getId()})}">Löschen</a>
					</td>
				</tr>
			</tbody>
		</table>
		<div class="pad"></div>
    </body>
</html>