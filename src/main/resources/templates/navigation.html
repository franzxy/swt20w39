<nav th:fragment="navigation">
    <div class="menu"><a class="logo" th:href="@{/}">ApoTheke</a></div>
    <form class="searchbar" action="#"  th:action="@{/}" th:object=${searchform} method="post">
        <input class="input search" type="text" th:value="${oldTerm}" name="searchbar" placeholder="Produkte Suchen" />
        <button class="iconbutton searchbutton" type="submit">
            <svg class="searchicon" viewBox="0 0 24 24">
                <rect fill="none" height="24" width="24"/>
                <path d="M20.29,18.88l-5.56-5.56c1.13-1.55,1.63-3.58,0.98-5.74c-0.68-2.23-2.57-3.98-4.85-4.44C6.21,2.2,2.2,6.22,3.14,10.86 c0.46,2.29,2.21,4.18,4.44,4.85c2.16,0.65,4.19,0.15,5.74-0.98l5.56,5.56c0.39,0.39,1.02,0.39,1.41,0l0,0 C20.68,19.9,20.68,19.27,20.29,18.88z M5,9.5C5,7.01,7.01,5,9.5,5S14,7.01,14,9.5S11.99,14,9.5,14S5,11.99,5,9.5z"/>
            </svg>
        </button>
    </form>
    <div class="personal">
        <a class="iconbutton" th:href="@{/cart}">
            <svg class="icon" viewBox="0 0 24 24">
                <rect fill="none" height="24" width="24"/>
                <path d="M15.55,13c1.22,0,1.74-1.01,1.75-1.03l3.55-6.44c0.23-0.45,0.18-0.84-0.01-1.11C20.66,4.16,20.33,4,20,4 C19.99,4,5.21,4,5.21,4L4.54,2.57C4.38,2.22,4.02,2,3.64,2H2C1.45,2,1,2.45,1,3v0c0,0.55,0.45,1,1,1h1l3.6,7.59l-1.35,2.44 C4.52,15.37,5.48,17,7,17h11c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H7l1.1-2H15.55z"/>
                <circle cx="7" cy="20" r="2"/>
                <circle cx="17" cy="20" r="2"/>
            </svg>
            <span th:if="${counter}" class="cartcounter" th:text="${counter}"></span>
        </a>
        <a sec:authorize="hasRole('BOSS')" class="iconbutton" th:href="@{/admin}">
            <svg class="icon" viewBox="0 0 24 24">
                <rect fill="none" height="24" width="24"/>
                <path d="M17,10c1.08,0,2.09,0.25,3,0.68v-4.3c0-0.83-0.52-1.58-1.3-1.87l-6-2.25c-0.45-0.17-0.95-0.17-1.4,0l-6,2.25 C4.52,4.81,4,5.55,4,6.39v4.7c0,5.05,3.41,9.76,8,10.91c0.03-0.01,0.05-0.02,0.08-0.02C10.8,20.71,10,18.95,10,17 C10,13.13,13.13,10,17,10z"/>
                <path d="M17,12c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S19.76,12,17,12z M17,14c0.83,0,1.5,0.67,1.5,1.5S17.83,17,17,17 s-1.5-0.67-1.5-1.5S16.17,14,17,14z M17,20c-1.03,0-1.94-0.52-2.48-1.32C15.25,18.26,16.09,18,17,18s1.75,0.26,2.48,0.68 C18.94,19.48,18.03,20,17,20z"/>
            </svg>
        </a>
        <a sec:authorize="hasRole('EMPLOYEE')" class="iconbutton" th:href="@{/employee}">
            <svg class="icon" viewBox="0 0 24 24">
                <rect fill="none" height="24" width="24"/>
                <path d="M17,10c1.08,0,2.09,0.25,3,0.68v-4.3c0-0.83-0.52-1.58-1.3-1.87l-6-2.25c-0.45-0.17-0.95-0.17-1.4,0l-6,2.25 C4.52,4.81,4,5.55,4,6.39v4.7c0,5.05,3.41,9.76,8,10.91c0.03-0.01,0.05-0.02,0.08-0.02C10.8,20.71,10,18.95,10,17 C10,13.13,13.13,10,17,10z"/>
                <path d="M17,12c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S19.76,12,17,12z M17,14c0.83,0,1.5,0.67,1.5,1.5S17.83,17,17,17 s-1.5-0.67-1.5-1.5S16.17,14,17,14z M17,20c-1.03,0-1.94-0.52-2.48-1.32C15.25,18.26,16.09,18,17,18s1.75,0.26,2.48,0.68 C18.94,19.48,18.03,20,17,20z"/>
            </svg>
        </a>
        <a sec:authorize="isAuthenticated()" th:if="${picture}"  class="iconbutton" th:href="@{/account}"><i class="icon picture" th:style="'background-image: url('+${picture}+');'"></i></a>
        <a sec:authorize="isAuthenticated()" th:unless="${picture}" class="iconbutton" th:href="@{/account}">
            <svg class="icon" viewBox="0 0 24 24">
                <rect fill="none" height="24" width="24"/>
                <circle cx="12" cy="8" r="4"/>
                <path d="M18.39,14.56C16.71,13.7,14.53,13,12,13c-2.53,0-4.71,0.7-6.39,1.56C4.61,15.07,4,16.1,4,17.22V20h16v-2.78 C20,16.1,19.39,15.07,18.39,14.56z"/>
            </svg>
        </a>
        <a sec:authorize="not isAuthenticated()" class="button login" th:href="@{/account}">Login</a>
    </div>
</nav>