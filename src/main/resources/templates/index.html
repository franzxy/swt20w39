<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
		<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
		<link rel="shortcut icon" type="image/png" th:href="@{/img/pharmacy.png}"/>

		<title th:text="${title}">Apotheke</title>

	</head>

	<body>

		<nav th:include="navigation :: navigation"></nav>

		<div class="center">
			<form class="filters" action="#"  th:action="@{/}" th:object=${searchform} method="post">
	
				<input class="input" type="hidden" th:value="${oldTerm}" name="searchbar"/>
	
					<div class="option">
						<p for="noPres">Rezeptfrei</p>
						<input class="checkbox" type="checkbox" id="noPres" name="noPres" th:checked="${noPres}" />
					</div>
	
					<div class="option">
						<p for="selector">Kategorie</p>
						<select class="selector" th:field="*{tag}">
							<option value="">Keine</option>
							<option th:each="tag : ${tags}" th:text="${tag}" th:value="${tag}"></option>
						</select>
					</div>
	
				<div class="field">
					<button th:text="Filtern" type="submit" class="ui labeled icon button"></button>
				</div>
			</form>

			<div th:if="${header}" class="field">
				<div class="row header">
					<p th:text="${header}"></p>
					<p>&nbsp;</p>
					<b th:text="${'„'+oldTerm+'“'}"></b>
					<p th:unless="${oldTag}" th:text="${', in der Kategorie '+oldTag}"></p>
					<p th:if="${noPres}" th:text="${', Rezeptfrei'}"></p>
				</div>
			</div>

			<div class="meds" th:remove="all-but-first">

				<a class="med" th:each="medicine : ${catalog}" th:href="@{/medicine/{id}(id=${medicine.id})}">

					<div class="medimgwrapper"><i class="medimg" th:style="'background-image: url('+@{/img/med/{image}.png(image=${medicine.image})}+');'" ></i></div>

					<div class="meddetails">

						<h5 th:text="${medicine.name}"></h5>
						<div class="content" th:text="${medicine.presonly} ? 'Verschreibungspflichtig' : 'Frei Verkäuflich'">Typ</div>
						<div class="content" th:text="${'Verfügbar: ' + availability.get(medicine.getId().getIdentifier())}">Verfügbarkeit</div>
						<div class="extra content" th:text="${{medicine.price}}">Preis</div>

					</div>
				</a>
			</div>
		</div>
	</body>
</html>